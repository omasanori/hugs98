DOCBOOK2HTML = @DOCBOOK2HTML@
DOCBOOK2DVI = @DOCBOOK2DVI@
DOCBOOK2PDF = @DOCBOOK2PDF@
DOCBOOK2PS = @DOCBOOK2PS@

ROOT	= users_guide
PARTS	= $(ROOT).sgml commands.sgml haskell98.sgml hugs_ghc.sgml \
	  hugs_only.sgml introduction.sgml license.sgml running.sgml
HTML_OPTS = -V '%use-id-as-filename%'

HTML	= $(ROOT)/index.html

all: html dvi ps pdf

html: $(HTML)

dvi: $(ROOT).dvi

ps: $(ROOT).ps

pdf: $(ROOT).pdf

$(HTML): $(PARTS)
	rm -rf $(ROOT)
	test -z '$(DOCBOOK2HTML)' || $(DOCBOOK2HTML) -o $(ROOT) $(HTML_OPTS) $(ROOT).sgml

$(ROOT).dvi: $(PARTS)
	test -z '$(DOCBOOK2DVI)' || $(DOCBOOK2DVI) $(ROOT).sgml

$(ROOT).ps: $(PARTS)
	test -z '$(DOCBOOK2PS)' || $(DOCBOOK2PS) $(ROOT).sgml

$(ROOT).pdf: $(PARTS)
	test -z '$(DOCBOOK2PDF)' || $(DOCBOOK2PDF) $(ROOT).sgml
